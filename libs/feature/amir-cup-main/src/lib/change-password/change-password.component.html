<div class="mform row pt-5">
	<div class="col-12 mb-5">
		<div class="row">
			<div class="col-12 col-md-6">
				<h3 style="font-weight: 700; margin-bottom: 0;"> {{ 'Chpsswd.title' | translate }}</h3>
			</div>
		</div>
	</div>
	<form class="w-100" [formGroup]="CPForm" (ngSubmit)="onSubmit()" autocomplete="off">
		<div class="col-12 mb-4">
			<div class="row">
				<div class="col-12 col-md-6">
					<label class="upperlabel" for=""> {{ 'Chpsswd.currentPass' | translate }}</label>
					<input [type]="passvisibilitycup ? 'text' : 'password'" class="form-control"
          fanIdBlockCopyPaste
					[ngClass]="{
					'is-invalid':
					CPForm.get('cup')?.touched &&
					CPForm.get('cup')?.invalid}"
					formControlName="cup"
					 placeholder="{{ 'Chpsswd.entercurrentPass' | translate }}"
					 required>
					 <div
					 class="input-password-append"
					 *ngIf="CPForm.controls.cup.value"
					 (click)="passvisibilitycup = !passvisibilitycup"
				   >
					 <div class="input-password-text">
					   <span *ngIf="!passvisibilitycup">
						 <svg width="19.297" height="13.436" viewBox="0 0 19.297 13.436">
						   <g id="noun_Eye_1542295" transform="translate(-2.218 -6.159)">
							 <path
							   id="Path_3057"
							   data-name="Path 3057"
							   d="M21.214,11.91C16.742,5.9,12.092,6.149,11.867,6.165,11.64,6.149,6.99,5.9,2.519,11.91a1.856,1.856,0,0,0-.3.967h0a1.843,1.843,0,0,0,.3.966c4.471,6.008,9.121,5.761,9.348,5.745.225.016,4.875.263,9.348-5.745a1.839,1.839,0,0,0,.3-.966h0A1.845,1.845,0,0,0,21.214,11.91ZM11.867,17.5a4.424,4.424,0,0,1-4.194-4.62,4.423,4.423,0,0,1,4.194-4.62,4.421,4.421,0,0,1,4.193,4.62A4.422,4.422,0,0,1,11.867,17.5Zm1.9-4.95a1.686,1.686,0,0,1-1.6-1.761,1.887,1.887,0,0,1,.18-.793,2.5,2.5,0,0,0-.479-.05A2.808,2.808,0,0,0,9.2,12.877a2.808,2.808,0,0,0,2.662,2.933,2.808,2.808,0,0,0,2.662-2.933,3.066,3.066,0,0,0-.046-.527A1.467,1.467,0,0,1,13.764,12.548Z"
							   transform="translate(0 0)"
							   fill="#999fa8"
							 />
						   </g>
						 </svg>
					   </span>
					   <span *ngIf="passvisibilitycup">
						 <svg
						   xmlns="http://www.w3.org/2000/svg"
						   width="19.293"
						   height="17.242"
						   viewBox="0 0 19.293 17.242"
						 >
						   <g
							 id="Group_5711"
							 data-name="Group 5711"
							 transform="translate(-1495.186 -591.662)"
						   >
							 <path
							   id="Subtraction_1"
							   data-name="Subtraction 1"
							   d="M22409.693,6360.68a8.5,8.5,0,0,1-3.416-.841,15.138,15.138,0,0,1-5.742-4.9s0,0,0-.01l0-.006a1.7,1.7,0,0,1,0-1.915.046.046,0,0,0,.008-.014,17.228,17.228,0,0,1,3.492-3.568l2.223,2.223a4.972,4.972,0,0,0-.564,2.316,4.425,4.425,0,0,0,4.191,4.62,3.911,3.911,0,0,0,2.443-.864l1.8,1.8a8.885,8.885,0,0,1-4.062,1.159c-.1,0-.16,0-.182,0h-.01C22409.848,6360.676,22409.787,6360.68,22409.693,6360.68Zm7.219-3.16h0l-2.883-2.883a5.2,5.2,0,0,0,.045-.674,4.428,4.428,0,0,0-4.2-4.619,3.846,3.846,0,0,0-1.006.134l-1.738-1.74a7.938,7.938,0,0,1,2.557-.493c.121,0,.186.005.188.005s.066-.005.188-.005a8.5,8.5,0,0,1,3.42.841,15.123,15.123,0,0,1,5.74,4.9s0,0,0,.01l0,.006a1.7,1.7,0,0,1,0,1.905l-.006.012-.006.01a18.537,18.537,0,0,1-2.312,2.587Zm-7.035-.626a2.81,2.81,0,0,1-2.662-2.932,3.183,3.183,0,0,1,.209-1.141l3.719,3.719A2.43,2.43,0,0,1,22409.877,6356.893Z"
							   transform="translate(-20905.047 -5753.46)"
							   fill="#999fa8"
							 />
							 <rect
							   id="Rectangle_2789"
							   data-name="Rectangle 2789"
							   width="2.384"
							   height="22"
							   rx="1.192"
							   transform="translate(1495.893 593.348) rotate(-45)"
							   fill="#999fa8"
							 />
						   </g>
						 </svg>
					   </span>
					 </div>
				   </div>
				</div>
			</div>
		</div>
		<div class="col-12 mb-4">
			<div class="row">
				<div class="col-12 col-md-6">
					<label class="upperlabel" for=""> {{ 'Chpsswd.newPass' | translate }}</label>
					<input [type]="passvisibilitynep ? 'text' : 'password'" class="form-control" formControlName="nep"
					  fanIdBlockCopyPaste
            [ngClass]="{
            'is-invalid':
            CPForm.get('nep')?.touched &&
            CPForm.get('nep')?.invalid }"
            placeholder="{{ 'Chpsswd.enterNewPass' | translate }}"
            (input)="onNewPasswordChange(CPForm.get('nep')?.value)"
            (focus)="onPasswordFocus()"
            (blur)="onPasswordBlur()"
            required
          >
					 <div
					 class="input-password-append"
					 *ngIf="CPForm.controls.nep.value"
					 (click)="passvisibilitynep = !passvisibilitynep"
				   >
					 <div class="input-password-text">
					   <span *ngIf="!passvisibilitynep">
						 <svg width="19.297" height="13.436" viewBox="0 0 19.297 13.436">
						   <g id="noun_Eye_1542295" transform="translate(-2.218 -6.159)">
							 <path
							   id="Path_3057"
							   data-name="Path 3057"
							   d="M21.214,11.91C16.742,5.9,12.092,6.149,11.867,6.165,11.64,6.149,6.99,5.9,2.519,11.91a1.856,1.856,0,0,0-.3.967h0a1.843,1.843,0,0,0,.3.966c4.471,6.008,9.121,5.761,9.348,5.745.225.016,4.875.263,9.348-5.745a1.839,1.839,0,0,0,.3-.966h0A1.845,1.845,0,0,0,21.214,11.91ZM11.867,17.5a4.424,4.424,0,0,1-4.194-4.62,4.423,4.423,0,0,1,4.194-4.62,4.421,4.421,0,0,1,4.193,4.62A4.422,4.422,0,0,1,11.867,17.5Zm1.9-4.95a1.686,1.686,0,0,1-1.6-1.761,1.887,1.887,0,0,1,.18-.793,2.5,2.5,0,0,0-.479-.05A2.808,2.808,0,0,0,9.2,12.877a2.808,2.808,0,0,0,2.662,2.933,2.808,2.808,0,0,0,2.662-2.933,3.066,3.066,0,0,0-.046-.527A1.467,1.467,0,0,1,13.764,12.548Z"
							   transform="translate(0 0)"
							   fill="#999fa8"
							 />
						   </g>
						 </svg>
					   </span>
					   <span *ngIf="passvisibilitynep">
						 <svg
						   xmlns="http://www.w3.org/2000/svg"
						   width="19.293"
						   height="17.242"
						   viewBox="0 0 19.293 17.242"
						 >
						   <g
							 id="Group_5711"
							 data-name="Group 5711"
							 transform="translate(-1495.186 -591.662)"
						   >
							 <path
							   id="Subtraction_1"
							   data-name="Subtraction 1"
							   d="M22409.693,6360.68a8.5,8.5,0,0,1-3.416-.841,15.138,15.138,0,0,1-5.742-4.9s0,0,0-.01l0-.006a1.7,1.7,0,0,1,0-1.915.046.046,0,0,0,.008-.014,17.228,17.228,0,0,1,3.492-3.568l2.223,2.223a4.972,4.972,0,0,0-.564,2.316,4.425,4.425,0,0,0,4.191,4.62,3.911,3.911,0,0,0,2.443-.864l1.8,1.8a8.885,8.885,0,0,1-4.062,1.159c-.1,0-.16,0-.182,0h-.01C22409.848,6360.676,22409.787,6360.68,22409.693,6360.68Zm7.219-3.16h0l-2.883-2.883a5.2,5.2,0,0,0,.045-.674,4.428,4.428,0,0,0-4.2-4.619,3.846,3.846,0,0,0-1.006.134l-1.738-1.74a7.938,7.938,0,0,1,2.557-.493c.121,0,.186.005.188.005s.066-.005.188-.005a8.5,8.5,0,0,1,3.42.841,15.123,15.123,0,0,1,5.74,4.9s0,0,0,.01l0,.006a1.7,1.7,0,0,1,0,1.905l-.006.012-.006.01a18.537,18.537,0,0,1-2.312,2.587Zm-7.035-.626a2.81,2.81,0,0,1-2.662-2.932,3.183,3.183,0,0,1,.209-1.141l3.719,3.719A2.43,2.43,0,0,1,22409.877,6356.893Z"
							   transform="translate(-20905.047 -5753.46)"
							   fill="#999fa8"
							 />
							 <rect
							   id="Rectangle_2789"
							   data-name="Rectangle 2789"
							   width="2.384"
							   height="22"
							   rx="1.192"
							   transform="translate(1495.893 593.348) rotate(-45)"
							   fill="#999fa8"
							 />
						   </g>
						 </svg>
					   </span>
					 </div>
				   </div>
           <fan-id-password-check
            class="password-check"
            [class.password-check-mobile]="!password_check_desktop"
            [tests]="password_tests"
            *ngIf="passwordCheckVisible"
            [desktop]="password_check_desktop"
           >
           </fan-id-password-check>
				</div>
			</div>
		</div>
		<div class="col-12 mb-5">
			<div class="row  ">
				<div class="col-12 col-md-6">
					<label class="upperlabel" for=""> {{ 'Chpsswd.cnfPass' | translate }}</label>
					<input [type]="passvisibilitycop ? 'text' : 'password'" class="form-control" formControlName="cop"
					fanIdBlockCopyPaste
					[ngClass]="{
					'is-invalid':
					CPForm.get('cop')?.touched &&
					CPForm.get('cop')?.invalid }"
					placeholder="{{ 'Chpsswd.cnfNewPass' | translate }}"
					required/>
					<span class="invalid-feedback" *ngIf="CPForm.hasError('notSame')">
						*{{'MFPTwo.PasswordsDoNotMatch' |translate}}
					</span>
					<span class="invalid-feedback" *ngIf="CPForm.hasError('samePass')">
						Your new password cannot be the same as your old password
					</span>
					<span class="invalid-feedback" *ngIf="failBool && !CPForm.hasError('notSame')">
						{{successOrFailedMsg}}
					</span>
					<span style="color:#007C3D" *ngIf="successBool && !CPForm.hasError('notSame')">
						{{successOrFailedMsg}}
					</span>
					<div
					class="input-password-append"
					*ngIf="CPForm.controls.cop.value"
					(click)="passvisibilitycop = !passvisibilitycop"
				  >
					<div class="input-password-text">
					  <span *ngIf="!passvisibilitycop">
						<svg width="19.297" height="13.436" viewBox="0 0 19.297 13.436">
						  <g id="noun_Eye_1542295" transform="translate(-2.218 -6.159)">
							<path
							  id="Path_3057"
							  data-name="Path 3057"
							  d="M21.214,11.91C16.742,5.9,12.092,6.149,11.867,6.165,11.64,6.149,6.99,5.9,2.519,11.91a1.856,1.856,0,0,0-.3.967h0a1.843,1.843,0,0,0,.3.966c4.471,6.008,9.121,5.761,9.348,5.745.225.016,4.875.263,9.348-5.745a1.839,1.839,0,0,0,.3-.966h0A1.845,1.845,0,0,0,21.214,11.91ZM11.867,17.5a4.424,4.424,0,0,1-4.194-4.62,4.423,4.423,0,0,1,4.194-4.62,4.421,4.421,0,0,1,4.193,4.62A4.422,4.422,0,0,1,11.867,17.5Zm1.9-4.95a1.686,1.686,0,0,1-1.6-1.761,1.887,1.887,0,0,1,.18-.793,2.5,2.5,0,0,0-.479-.05A2.808,2.808,0,0,0,9.2,12.877a2.808,2.808,0,0,0,2.662,2.933,2.808,2.808,0,0,0,2.662-2.933,3.066,3.066,0,0,0-.046-.527A1.467,1.467,0,0,1,13.764,12.548Z"
							  transform="translate(0 0)"
							  fill="#999fa8"
							/>
						  </g>
						</svg>
					  </span>
					  <span *ngIf="passvisibilitycop">
						<svg
						  xmlns="http://www.w3.org/2000/svg"
						  width="19.293"
						  height="17.242"
						  viewBox="0 0 19.293 17.242"
						>
						  <g
							id="Group_5711"
							data-name="Group 5711"
							transform="translate(-1495.186 -591.662)"
						  >
							<path
							  id="Subtraction_1"
							  data-name="Subtraction 1"
							  d="M22409.693,6360.68a8.5,8.5,0,0,1-3.416-.841,15.138,15.138,0,0,1-5.742-4.9s0,0,0-.01l0-.006a1.7,1.7,0,0,1,0-1.915.046.046,0,0,0,.008-.014,17.228,17.228,0,0,1,3.492-3.568l2.223,2.223a4.972,4.972,0,0,0-.564,2.316,4.425,4.425,0,0,0,4.191,4.62,3.911,3.911,0,0,0,2.443-.864l1.8,1.8a8.885,8.885,0,0,1-4.062,1.159c-.1,0-.16,0-.182,0h-.01C22409.848,6360.676,22409.787,6360.68,22409.693,6360.68Zm7.219-3.16h0l-2.883-2.883a5.2,5.2,0,0,0,.045-.674,4.428,4.428,0,0,0-4.2-4.619,3.846,3.846,0,0,0-1.006.134l-1.738-1.74a7.938,7.938,0,0,1,2.557-.493c.121,0,.186.005.188.005s.066-.005.188-.005a8.5,8.5,0,0,1,3.42.841,15.123,15.123,0,0,1,5.74,4.9s0,0,0,.01l0,.006a1.7,1.7,0,0,1,0,1.905l-.006.012-.006.01a18.537,18.537,0,0,1-2.312,2.587Zm-7.035-.626a2.81,2.81,0,0,1-2.662-2.932,3.183,3.183,0,0,1,.209-1.141l3.719,3.719A2.43,2.43,0,0,1,22409.877,6356.893Z"
							  transform="translate(-20905.047 -5753.46)"
							  fill="#999fa8"
							/>
							<rect
							  id="Rectangle_2789"
							  data-name="Rectangle 2789"
							  width="2.384"
							  height="22"
							  rx="1.192"
							  transform="translate(1495.893 593.348) rotate(-45)"
							  fill="#999fa8"
							/>
						  </g>
						</svg>
					  </span>
					</div>
				  </div>
				</div>
			</div>
		</div>
		<div class="col-12 mb-3">
			<div class="row">
				<div class="action-btn-container">
					<button type="button" routerLink="/main/dashboard" class="btn btn-outline-primary btn-block cancelBtn">
							{{ 'Chpsswd.cancel' | translate }}
						</button>

            <button type="submit" class="btn btn-primary btn-block submit-btn-color"
            [disabled]="!CPForm.valid || !passwordValid"
          >
							{{ 'Chpsswd.update' | translate }}
						</button>
				</div>
			</div>
		</div>
	</form>
</div>
